import cv2
import numpy as np
import pandas as pd

# شناسه‌های دوربین‌ها
cam_ids = ['000068700312', '000325420812', '000365930112', '000368930112', '000409930112', '000436120812']

# مقادیر خطای بازپروژکشن که از نتایج دریافتی به دست آمده است برای هر کالیبراسیون استریو
reprojection_errors = {
    ('000068700312', '000325420812'): [8.038873388460929e-14, 0.1094059289403986, 0.11282489986091677, 0.12587015207276597, 0.10975989759136243, 0.12185916582907425, 0.10881791937685233, 0.1463980685471285, 0.14836434520363828, 0.14429188247539773, 0.10760497843940348, 0.11666270874352076, 0.13584974049974763, 0.12235415257857543, 0.1219384383806116, 0.15021259191835998, 0.16821543536127226],
    ('000325420812', '000365930112'): [0.12356622990862624, 0.1391323451394979, 0.12004157411740353, 0.10909789641729294, 0.12064199281547025, 0.09376740249741755, 0.12644928948295014, 0.10769547231558703, 0.09097046906678537, 0.09895495122995232, 0.092543542823124, 0.0955390440009172, 0.08370676462741729, 0.13012383793699586, 0.09198896622499661, 0.11749066605544428, 0.07228897219091632, 0.08266525110748212, 0.11143882739303107],
    ('000325420812', '000368930112'): [0.13196715200797798, 0.1239090054439814, 0.09657556847867421, 0.15750083813696, 0.1420313433046459, 0.11094025156767219, 0.10598973530374631, 0.10647751394932617, 0.08704534662343513, 0.1257911167920845, 0.11732415296213261, 0.31929945462019144, 0.11845169888246533, 0.135233219140672],
    ('000325420812', '000409930112'): [0.09235638890167425, 0.1173835468753827, 0.09048577421477887, 0.10326153951926445, 0.10748856560479056, 0.07921389028243032, 0.09669239651246041, 0.08047688067491268],
    ('000325420812', '000436120812'): [0.10651589977251512, 0.12298971322396719, 0.13249128534913523, 0.13339774023165085, 0.06919925488626924, 0.11257421186058877, 0.10667802747509578, 0.0934190952121228]
}

# محاسبه میانگین خطای بازپروژکشن برای هر کالیبراسیون استریو
mean_reprojection_errors = []
for (cam1, cam2), errors in reprojection_errors.items():
    mean_error = np.mean(errors)
    mean_reprojection_errors.append({'Camera Pair': f'{cam1} & {cam2}', 'Mean Reprojection Error': mean_error})

# ساخت یک DataFrame برای نمایش مقادیر به صورت جدول
calibration_df = pd.DataFrame(mean_reprojection_errors)

# نمایش جدول
print(calibration_df)

# ذخیره جدول به صورت فایل CSV (اختیاری)
calibration_df.to_csv('calibration_results.csv', index=False)
